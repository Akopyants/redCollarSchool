const listItem=document.querySelectorAll(".main-section__list-link");listItem.forEach((function(t){let e=t.children[0].children[0].innerText.split("");t.children[0].innerHTML="",e.forEach((function(e,n){const o=document.createElement("span");o.style="--index: "+n,o.innerText=e,t.children[0].appendChild(o)}));const n=t.children[0].cloneNode(!0);Object.assign(n.style,{position:"absolute",left:"0",top:"0"}),t.appendChild(n)}));let timer=document.getElementById("timer");if(timer){const t=document.getElementById("taskBtn"),e=document.getElementById("deleteAllTasksBtn"),n=document.getElementById("taskInput"),o=document.getElementById("timerBtnStart"),s=document.getElementById("timerBtnReset"),l=1500,a=300,d=900;let i,r=25,c=0,m=!1;const p=()=>{document.getElementById("timerMinutes").innerText=r.toString().padStart(2,"0"),document.getElementById("timerSeconds").innerText=c.toString().padStart(2,"0"),c>0?c--:r>0?(r--,c=59):(clearInterval(i),m=!1,pomodorosCompleted%4==0?(r=d/60,c=d%60,document.getElementById("timer-title").innerText="Длинный перерыв"):(r=a/60,c=a%60,document.getElementById("timer-title").innerText="Короткий перерыв",u()),pomodorosCompleted++,k(),updatePomodoroCounter())},u=()=>{m?(clearInterval(i),m=!1,document.getElementById("timerBtnStart").innerText="Продолжить"):(i=setInterval(p,1e3),m=!0,document.getElementById("timerBtnStart").innerText="Приостановить")},g=()=>{clearInterval(i),m=!1,r=l/60,c=l%60,document.getElementById("timer-title").innerText="Работа",document.getElementById("timerBtnStart").innerText="Начать",p()},k=()=>{localStorage.setItem("pomodorosCompleted",pomodorosCompleted),localStorage.setItem("tasks",JSON.stringify(tasks))},C=()=>{pomodorosCompleted=parseInt(localStorage.getItem("pomodorosCompleted"))||0,tasks=JSON.parse(localStorage.getItem("tasks"))||[]};function updatePomodoroCounter(){document.getElementById("pomodoro-counter").innerText=pomodorosCompleted}const f=()=>{let t=document.getElementById("taskList");t.innerHTML="",tasks.forEach((e,n)=>{let o=document.createElement("li");o.className=e.complete?"completed":"",o.innerHTML=`\n    <span>${e.task}</span>\n    <div class="buttons">\n    <span data-index="${n}" class="complete-btn">\n      <svg width="40" height="40" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M2.62451 5.65729L6.31515 9.758L11.8511 3.60693" stroke="#fff" stroke-width="2" stroke-linejoin="round"/>\n      </svg>\n    </span>\n    <span data-index="${n}" class="edit-btn">\n    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M32.2943 15.1472C31.7357 15.1472 31.2828 15.6001 31.2828 16.1586V34.6291C31.2828 36.5809 29.6945 38.1692 27.7426 38.1692H5.56322C3.61137 38.1692 2.02301 36.5809 2.02301 34.6291V12.4495C2.02301 10.4977 3.61137 8.9094 5.56322 8.9094H27.7426C28.3012 8.9094 28.7541 8.45652 28.7541 7.89794C28.7541 7.33936 28.3012 6.88647 27.7426 6.88647H5.56322C2.49561 6.88647 0 9.382 0 12.4495V34.6291C0 37.6965 2.49561 40.1921 5.56322 40.1921H27.7426C30.8101 40.1921 33.3057 37.6965 33.3057 34.6291V16.1587C33.3057 15.6001 32.8529 15.1472 32.2943 15.1472Z" fill="#fff"/>\n    <path d="M40.0838 1.72234C38.8644 0.50295 36.8805 0.503447 35.6621 1.72234L18.3366 19.0484C18.3134 19.0716 18.0521 19.3432 17.9844 19.4954L15.5852 24.8856C15.4148 25.2682 15.4977 25.7162 15.794 26.0122C15.9876 26.2057 16.2464 26.3085 16.5097 26.3085C16.6484 26.3085 16.7882 26.2798 16.9205 26.2209L22.3109 23.8216C22.4625 23.7541 22.7345 23.4928 22.7579 23.4696L40.0838 6.14412C40.6745 5.55339 41 4.76816 41 3.93298C41 3.09788 40.6745 2.31248 40.0838 1.72234ZM38.6535 4.71332L21.3275 22.0393C21.3246 22.0423 21.3229 22.0458 21.3201 22.0482L18.5045 23.3016L19.7579 20.4861C19.7604 20.4831 19.7638 20.4816 19.7668 20.4787L37.0924 3.15272C37.5098 2.73529 38.2372 2.73579 38.6536 3.15313C38.8622 3.36106 38.9771 3.63816 38.9771 3.93298C38.9771 4.2278 38.862 4.50482 38.6535 4.71332Z" fill="#fff"/>\n    </svg>\n    </span>\n    <span data-index="${n}" class="close-btn">\n      <svg width="23" height="24" viewBox="0 0 23 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M1.50049 2.00001L21.5029 22.0024" stroke="#fff" stroke-width="4"/>\n        <path d="M21.5024 2L1.50006 22.0024" stroke="#fff" stroke-width="4"/>\n      </svg>\n    </span>\n    </div>\n    `,t.append(o)}),v()},h=()=>{const t=n.value;t&&(tasks.push({task:t,complete:!1}),k(),f(),n.value="")},v=()=>{let t=document.getElementById("currentTask"),e="";for(let t=0;t<tasks.length;t++)if(!tasks[t].complete){e=tasks[t].task;break}t.innerHTML=e||"Задач пока нет"},E=(t,e)=>{t.length>0&&(tasks[e].task=t,k(),f())},B=t=>{tasks.splice(t,1),k(),f()};n.addEventListener("keypress",(function(t){"Enter"===t.key&&(t.preventDefault(),h())})),o.addEventListener("click",()=>{u()}),s.addEventListener("click",()=>{g()}),t.addEventListener("click",()=>{h()}),e.addEventListener("click",()=>{tasks=[],k(),f()});const I=new tingle.modal({closeMethods:["overlay","button","escape"],closeLabel:"Close",cssClass:["modal"]});I.setContent('\n  <h3>Редактирование</h3>\n  <input class="block__input" type="text" id="inputModal">\n  <button class="block__button task-list__button" id="editBtn">Подтвердить</button>\n'),document.addEventListener("click",t=>{if(t.target.closest("#taskList")){let e=t.target.dataset.index;if("close-btn"===t.target.classList.value&&B(e),"complete-btn"===t.target.classList.value&&(tasks[e].complete=!0,k(),f()),"edit-btn"===t.target.classList.value){const t=document.querySelector("#inputModal");t.dataset.index=e,t.value=tasks[e].task,I.open()}}});document.getElementById("editBtn").addEventListener("click",()=>{let t=inputModal.dataset.index,e=inputModal.value;E(e,t),I.close()}),inputModal.addEventListener("keypress",(function(t){if("Enter"===t.key){let t=inputModal.dataset.index,e=inputModal.value;E(e,t),I.close()}})),C(),updatePomodoroCounter(),f(),p(),v()}
//# sourceMappingURL=../sourcemaps/main.min.js.map
